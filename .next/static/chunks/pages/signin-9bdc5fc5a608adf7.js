(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{7752:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return a(1701)}])},8601:function(t,e,a){"use strict";a.d(e,{J:function(){return n},q:function(){return o}});let n="https://api.mamvoapp.com/",o={USER:"user/",SIGN_IN:"user/login",TRANSACTION:"transaction/",BOOKING:"booking/",ITEMS:"/dynamic/data/with/pagination"}},6047:function(t,e,a){"use strict";a.d(e,{Q:function(){return i}});var n=a(5893),o=a(7294),r=a(1163),c=a(2760);function i(t){return function(e){let a=(0,r.useRouter)(),[i,s]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{let t=function(){let t=JSON.parse(localStorage.getItem("auth_user"));return!!t&&null!=t&&!!t.token||(localStorage.removeItem("auth_user"),!1)}();t||a.asPath===c.Z.SIGN_UP||a.asPath===c.Z.SIGN_IN?t&&"/"===a.asPath&&a.push("/dashboard"):a.push(a.asPath===c.Z.SIGN_UP?c.Z.SIGN_UP:c.Z.SIGN_IN),s(!0)},[a]),i)?(0,n.jsx)(t,{...e}):null}}},1701:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return f}});var n=a(5893),o=t=>{let{label:e,value:a,onChange:o,id:r,name:c,disabled:i,inputWidth:s,type:l="text",placeholder:u,svgShow:d,customClassContainer:p}=t;return(0,n.jsxs)("div",{className:"my-1.5 ".concat(p),children:[(0,n.jsx)("label",{htmlFor:"input",className:"text-sm cursor-pointer  text-white font-medium",children:e}),(0,n.jsxs)("div",{className:"flex border border-border_color rounded-md items-center px-2 py-2 bg-white",children:[d,(0,n.jsx)("input",{id:r,disabled:i,onChange:o,className:"outline-none focus:outline-none w-full ".concat(s," text-sm px-2 text-secondary"),placeholder:u,value:a,name:c,type:l})]})]})},r=a(1789),c=a(7294),i=t=>{let{onChange:e,value:a}=t,[o,i]=(0,c.useState)(!1);return(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"input",className:"text-sm cursor-pointer font-medium  text-white",children:"Password"}),(0,n.jsxs)("div",{className:"flex border border-border_color rounded-md items-center px-2 py-2 bg-white",children:[(0,n.jsx)(r.UT,{}),(0,n.jsx)("input",{id:"input",className:"outline-none focus:outline-none w-full text-sm px-2 text-secondary",placeholder:"**********",type:o?"text":"password",onChange:e,value:a}),!o&&(0,n.jsx)(r.ZF,{onclick:()=>i(!0)}),o&&(0,n.jsx)(r.eH,{onclick:()=>i(!1)})]})]})},s=t=>{let{height:e="4",width:a="4"}=t;return(0,n.jsxs)("svg",{className:"animate-spin h-".concat(e," w-").concat(a),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},l=a(6047),u=a(9470);a(8601);class d extends Error{}d.prototype.name="InvalidTokenError",a(5297);var p=a(2760),h=a(1163),m=a(5678),f=(0,l.Q)(()=>{let t=(0,h.useRouter)(),[e,a]=(0,c.useState)(!1),[l,f]=(0,c.useState)(""),[g,v]=(0,c.useState)(""),y=async e=>{if(e.preventDefault(),""===l)m.Am.warn("Please enter your email.");else if(""===g)m.Am.warn("Please enter your password.");else{var n,o,r;a(!0);try{let e=await (0,u.n$)({email:l,password:g,device:{id:"8d8c1fc3197f3054",deviceToken:"fWp_51ntQUirNOKJWT4iS-:APA91bHV4lkMs8HIZc3F0pBe41L0C_26E1xLtJfC2PiRN3N7hVZMllYrao5WZPbscAKdjhMlbxf7zNcagMHouoR0JwbmGmh8IQPSp3T6TNHO8MQ9sZ1GDy2C_VNUrF2eoU0dIkRWA1VS"}}),o=null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.token;if((null==e?void 0:e.success)&&o){let e;try{e=function(t,e){let a;if("string"!=typeof t)throw new d("Invalid token specified: must be a string");e||(e={});let n=!0===e.header?0:1,o=t.split(".")[n];if("string"!=typeof o)throw new d(`Invalid token specified: missing part #${n+1}`);try{a=function(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw Error("base64 string is not of the correct length")}try{var a;return a=e,decodeURIComponent(atob(a).replace(/(.)/g,(t,e)=>{let a=e.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}catch(t){return atob(e)}}(o)}catch(t){throw new d(`Invalid token specified: invalid base64 for part #${n+1} (${t.message})`)}try{return JSON.parse(a)}catch(t){throw new d(`Invalid token specified: invalid json for part #${n+1} (${t.message})`)}}(o)}catch(t){console.error("Error decoding token:",t),a(!1);return}e?(e.token=o,localStorage.setItem("auth_user",JSON.stringify(e)),m.Am.success("Login Successfully"),t.push(p.Z.DASHBOARD)):m.Am.error("Invalid token payload.")}else m.Am.warn((null==e?void 0:e.message)||"Login failed.");a(!1)}catch(t){console.error("Login error:",t),m.Am.error((null==t?void 0:null===(r=t.response)||void 0===r?void 0:null===(o=r.data)||void 0===o?void 0:o.message)||"An error occurred.",{autoClose:2e3}),a(!1)}}};return(0,n.jsx)("form",{onSubmit:y,children:(0,n.jsx)("section",{className:"bg-[#b49359] flex justify-center items-center  bg-center bg-contain md:bg-no-repeat h-screen",children:(0,n.jsxs)("div",{className:"w-[80%] md:w-[400px] rounded-xl mx-auto",style:{background:"black"},children:[(0,n.jsx)("div",{className:"flex pl-[10%] flex-col justify-center items-center pt-10",children:(0,n.jsx)(r.TR,{width:120,height:150})}),(0,n.jsxs)("div",{className:"flex justify-center flex-col items-center my-5",children:[(0,n.jsx)("p",{className:"text-4xl font-normal text-[#b49359]",children:"Welcome!"}),(0,n.jsx)("p",{className:"text-2xl text-secondary font-thin  text-white",children:"Sign in to continue."})]}),(0,n.jsxs)("div",{className:"px-5",children:[(0,n.jsx)(o,{id:"email",name:"email",onChange:t=>f(t.target.value),value:l,label:"Email or Username",placeholder:"e.g. abc@gmail.com",svgShow:(0,n.jsx)(r.Mj,{})}),(0,n.jsx)(i,{onChange:t=>v(t.target.value),value:g}),(0,n.jsxs)("button",{type:"submit",className:"bg-[#b49359] text-white mt-5 mb-7 mx-auto justify-center gap-2 items-center flex font-medium py-2.5  rounded-md text-sm opacity-80 w-full",children:["Sign In ",e&&(0,n.jsx)(s,{})]})]})]})})})})},9470:function(t,e,a){"use strict";a.d(e,{BS:function(){return i},Eo:function(){return h},HT:function(){return f},Jk:function(){return g},Jm:function(){return E},L1:function(){return P},Mh:function(){return v},N_:function(){return C},O0:function(){return N},OC:function(){return m},PG:function(){return l},TE:function(){return b},VA:function(){return k},WQ:function(){return p},Wb:function(){return y},_d:function(){return A},_h:function(){return x},_k:function(){return u},cw:function(){return z},gO:function(){return c},jk:function(){return d},kk:function(){return I},kq:function(){return w},me:function(){return _},n$:function(){return r},v8:function(){return Z},vP:function(){return s},xW:function(){return S},zQ:function(){return j}});var n=a(7066);let o="https://api.mamvoapp.com/",r=async t=>{let{data:e}=await n.Z.post("".concat(o,"api/v1/user/admin-login"),t);return e},c=async(t,e,a)=>{console.log(t);let{data:r}=await n.Z.get("".concat(o,"api/v1/user/getAllUsers?page=").concat(e,"&limit=").concat(a),{headers:{authorization:t}});return r},i=async(t,e,a,r,c,i,s,l,u)=>{console.log(t);let{data:d}=await n.Z.get("".concat(o,"api/v2/events?startDate=").concat(e,"&endDate=").concat(a,"&category=").concat(r,"&lat=").concat(c,"&lon=").concat(i,"&radius=").concat(s,"&page=").concat(l,"&limit=").concat(u),{headers:{authorization:t}});return d},s=async(t,e)=>{console.log(e,"payload");let{data:a}=await n.Z.post("".concat(o,"api/v2/events/create-custom-event"),e,{headers:{authorization:t}});return a},l=async(t,e,a)=>{let{data:r}=await n.Z.patch("".concat(o,"api/v2/events/update-event/").concat(a),e,{headers:{authorization:t}});return r},u=async(t,e)=>{console.log(e,"delToken");let{data:a}=await n.Z.delete("".concat(o,"api/v2/events/delete-event/").concat(e),{headers:{authorization:t}});return a},d=async(t,e,a)=>{console.log(t);let{data:r}=await n.Z.get("".concat(o,"api/v1/discounts?page=").concat(e,"&limit=").concat(a),{headers:{authorization:t}});return r},p=async(t,e)=>{console.log(e,"payload");let{data:a}=await n.Z.post("".concat(o,"api/v1/discounts/create-discount"),e,{headers:{authorization:t}});return a},h=async(t,e,a)=>{let{data:r}=await n.Z.patch("".concat(o,"api/v1/discounts/update-discount/").concat(a),e,{headers:{authorization:t}});return r},m=async(t,e)=>{console.log(e,"delToken");let{data:a}=await n.Z.delete("".concat(o,"api/v1/discounts/delete-discount/").concat(e),{headers:{authorization:t}});return a},f=async(t,e,a)=>{console.log(t);let{data:r}=await n.Z.get("".concat(o,"api/v1/user/get-all-pr-requests?page=").concat(e,"&limit=").concat(a),{headers:{authorization:t}});return r},g=async(t,e,a)=>{let{data:r}=await n.Z.patch("".concat(o,"api/v1/user/change-pr-status/").concat(a),e,{headers:{authorization:t}});return r},v=async(t,e,a)=>{console.log(t);let{data:r}=await n.Z.get("".concat(o,"api/v1/user/get-all-affiliate-requests?page=").concat(e,"&limit=").concat(a),{headers:{authorization:t}});return r},y=async(t,e,a)=>{let{data:r}=await n.Z.patch("".concat(o,"api/v1/user/change-Affiliate-status/").concat(a),e,{headers:{authorization:t}});return r},w=async(t,e,a)=>{console.log(t);let{data:r}=await n.Z.get("".concat(o,"api/v1/free-attendance/get-all-free-attendance-requests?page=").concat(e,"&limit=").concat(a),{headers:{authorization:t}});return r},x=async(t,e,a)=>{let{data:r}=await n.Z.patch("".concat(o,"api/v1/free-attendance/change-free-attendance-request-status/").concat(a),e,{headers:{authorization:t}});return r},b=async(t,e)=>{console.log(e,"payload");let{data:a}=await n.Z.post("".concat(o,"api/v1/about/create-about"),e,{headers:{authorization:t}});return a},N=async(t,e,a)=>{let{data:r}=await n.Z.patch("".concat(o,"api/v1/about/update-about/").concat(a),e,{headers:{authorization:t}});return r},Z=async t=>{console.log(t);let{data:e}=await n.Z.get("".concat(o,"api/v1/about"),{headers:{authorization:t}});return e},j=async t=>{console.log(t);let{data:e}=await n.Z.get("".concat(o,"api/v1/privacy"),{headers:{authorization:t}});return e},k=async(t,e)=>{console.log(e,"payload");let{data:a}=await n.Z.post("".concat(o,"api/v1/privacy/create-policy"),e,{headers:{authorization:t}});return a},z=async(t,e,a)=>{let{data:r}=await n.Z.patch("".concat(o,"api/v1/privacy/update-policy/").concat(a),e,{headers:{authorization:t}});return r},S=async t=>{console.log(t);let{data:e}=await n.Z.get("".concat(o,"api/v1/termsandcondition"),{headers:{authorization:t}});return e},_=async(t,e)=>{console.log(e,"payload");let{data:a}=await n.Z.post("".concat(o,"api/v1/termsandcondition/create-terms"),e,{headers:{authorization:t}});return a},I=async(t,e,a)=>{let{data:r}=await n.Z.patch("".concat(o,"api/v1/termsandcondition/update-terms/").concat(a),e,{headers:{authorization:t}});return r},A=async t=>{console.log(t);let{data:e}=await n.Z.get("".concat(o,"api/v1/contact"),{headers:{authorization:t}});return e},C=async(t,e)=>{console.log(e,"payload");let{data:a}=await n.Z.post("".concat(o,"api/v1/contact/create-contact"),e,{headers:{authorization:t}});return a},P=async(t,e,a)=>{let{data:r}=await n.Z.patch("".concat(o,"api/v1/contact/update-contact/").concat(a),e,{headers:{authorization:t}});return r},E=async t=>{let{data:e}=await n.Z.get("".concat(o,"api/v1/user/get-stats"),{headers:{authorization:t}});return e}},5297:function(t,e,a){"use strict";var n=a(8601),o=a(7066),r=a(5678);let c=async t=>{let{method:e="GET",path:a,data:c,headers:i}=t;try{let t=await (0,o.Z)({method:e,url:"".concat(n.J).concat(a||""),data:c,headers:{accept:"application/json",...i}});if((null==t?void 0:t.status)===200)return t.data}catch(t){var s,l;return r.Am.error(null==t?void 0:null===(s=t.response)||void 0===s?void 0:s.data.message),null==t?void 0:null===(l=t.response)||void 0===l?void 0:l.data}};e.Z=c}},function(t){t.O(0,[143,162,888,774,179],function(){return t(t.s=7752)}),_N_E=t.O()}]);