(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[841],{2450:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/rewards",function(){return s(4338)}])},7673:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(5893),l=s(7294),r=s(9521);let n=e=>{let{column:t}=e;return(0,a.jsx)("div",{children:t.canFilter&&t.render("Filter")})};var i=s(3866),d=s(1789),o=e=>{let{columns:t,data:s,customPageSizeOptions:o=[10,20,30,40,50],onRowClick:c,rowClick:m,isSelectDropdown:u=!0,isFilter:x=!0,isSortBy:h=!0,isShowPagination:g=!0,selectedRows:p,dataName:f="",nextPage:b,previousPage:v,setPageLimit:j,canPreviousPage:N,canNextPage:w,...y}=e,{getTableProps:S,getTableBodyProps:P,headerGroups:_,page:C,prepareRow:I,pageOptions:k,pageCount:E,gotoPage:F,setPageSize:R,state:{pageIndex:Z,pageSize:B}}=(0,r.useTable)({data:s,columns:t,initialState:{pageIndex:0,pageSize:i.IV,sortBy:h?[{desc:!0}]:[]}},r.useGlobalFilter,r.useFilters,r.useSortBy,r.useExpanded,r.usePagination),[z,G]=(0,l.useState)(""),T=e=>e.hideElement?"":e.isSorted?e.isSortedDesc?(0,a.jsx)(d.EM,{}):(0,a.jsx)(d.w,{}):(0,a.jsx)(d.KW,{}),H="1-".concat(Math.min((Z+1)*B,s.length)," of ").concat(s.length);return(0,a.jsxs)("div",{className:"bg-[#F8FAFC] rounded-2xl",children:[(0,a.jsxs)("div",{className:"flex rounded-t-xl justify-between bg-white items-center pt-4 md:pt-7 pb-4 px-4",children:[(0,a.jsxs)("div",{className:"text-sm text-heading md:min-h-[40px] font-medium",children:["All "," ".concat(f)," ( ",(0,a.jsx)("span",{className:"text-primary",children:s.length})," )"]}),!!p.length&&(0,a.jsxs)("div",{className:"flex items-center gap-x-3 text-heading text-sm font-medium",children:[(0,a.jsxs)("p",{children:[null==p?void 0:p.length," "," ".concat(f)," selected"]}),(0,a.jsx)("button",{className:"border py-1.5 px-[18px] rounded-lg text-danger border-border_color shadow-buttonShadow",children:"Delete"})]})]}),(0,a.jsxs)(l.Fragment,{children:[(0,a.jsxs)("div",{className:"table-responsive react-table bg-white  overflow-x-auto",children:[(0,a.jsxs)("table",{className:"table-auto w-full",...S(),children:[(0,a.jsx)("thead",{className:"bg-table_bg text-table_text",children:_.map(e=>(0,a.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>(0,a.jsxs)("th",{style:{width:"".concat(e.minSize,"%")},className:"px-4 md:min-w-[7rem] xl:min-w-full py-3.5 text-start text-sm font-semibold",children:[(0,a.jsxs)("div",{className:"flex gap-2 text-xs uppercase whitespace-nowrap items-center",...e.getSortByToggleProps(),children:[e.render("Header"),T(e)]}),x&&(0,a.jsx)(n,{column:e})]},e.id))},e.id))}),(0,a.jsx)("tbody",{children:C.map(e=>(I(e),(0,a.jsx)("tr",{className:"".concat(!!(null==p?void 0:p.find(t=>t===e.original.id))&&"!bg-table_bg"," cursor-pointer hover:bg-table_bg border border-t-table_row_hover"),onClick:()=>{m&&c(e)},children:e.cells.map(e=>(0,a.jsx)("td",{className:"px-4 py-3.5 text-xs whitespace-pre-wrap",children:e.render("Cell")},e.getCellProps().key))},e.getRowProps().key)))})]}),0===C.length&&(0,a.jsx)("p",{className:"min-h-[50vh] flex items-center justify-center",children:"No records found."})]}),(0,a.jsxs)("div",{className:"md:flex justify-end items-center gap-2 md:px-4 py-5",children:[(0,a.jsxs)("div",{className:"md:flex justify-between gap-3 items-center px-4",children:[(0,a.jsx)("div",{className:"md:block flex justify-end md:mb-0 mb-2",children:(0,a.jsx)("span",{className:"text-sm text-[#64748B]",children:H})}),(0,a.jsxs)("div",{className:"flex mb-2 md:mb-0 justify-end md:justify-normal items-center gap-2",children:[(0,a.jsx)("span",{className:"text-[#64748B] text-sm",children:"Rows per page:"}),(0,a.jsx)("select",{value:B,onChange:e=>{R(Number(e.target.value)),j(Number(e.target.value))},className:"border px-2 outline-none py-1 rounded",children:o.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"flex px-4 md:px-0 justify-end md:justify-normal gap-3",children:[(0,a.jsxs)("button",{className:"".concat(N?"text-primary bg-white":"bg-disable text-disableText"," border font-medium flex items-center text-sm px-3 py-2 rounded-lg"),onClick:v,children:[(0,a.jsx)(d.fN,{customClass:"mr-1"}),"  Previous"]}),(0,a.jsxs)("button",{onClick:b,className:"".concat(w?"text-primary bg-white":"bg-disable text-disableText"," border font-medium flex items-center text-sm px-3 py-2 rounded-lg"),children:["Next ",(0,a.jsx)(d.WQ,{customClass:"ml-1"})]})]})]})]})]})}},6047:function(e,t,s){"use strict";s.d(t,{Q:function(){return i}});var a=s(5893),l=s(7294),r=s(1163),n=s(2760);function i(e){return function(t){let s=(0,r.useRouter)(),[i,d]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{let e=function(){let e=JSON.parse(localStorage.getItem("auth_user"));return!!e&&null!=e&&!!e.token||(localStorage.removeItem("auth_user"),!1)}();e||s.asPath===n.Z.SIGN_UP||s.asPath===n.Z.SIGN_IN?e&&"/"===s.asPath&&s.push("/dashboard"):s.push(s.asPath===n.Z.SIGN_UP?n.Z.SIGN_UP:n.Z.SIGN_IN),d(!0)},[s]),i)?(0,a.jsx)(e,{...t}):null}}},4338:function(e,t,s){"use strict";s.r(t);var a=s(5893),l=s(6474),r=s(7673),n=s(9881),i=s(6047),d=s(3866),o=s(1789),c=s(7294),m=s(9470);t.default=(0,i.Q)(()=>{var e,t;let[s,i]=(0,c.useState)([]),[u,x]=(0,c.useState)(""),[h,g]=(0,c.useState)(!1),[p,f]=(0,c.useState)([]),[b,v]=(0,c.useState)(1),[j,N]=(0,c.useState)(10);console.log("selectedRows: ",p);let[w,y]=(0,c.useState)([]);(0,c.useEffect)(()=>{S()},[]);let S=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;g(!0);try{let a=JSON.parse(localStorage.getItem("auth_user")).token;console.log(a,"getToken");let l=await (0,m.gO)(a,e,t);if(l){var s;i(null==l?void 0:null===(s=l.data)||void 0===s?void 0:s.data),y(l)}}catch(e){g(!1),console.log("error: ",e)}finally{g(!1)}},P=()=>{var e,t;(null==w?void 0:null===(e=w.data)||void 0===e?void 0:e.hasNextPage)&&(console.log("123"),S(null==w?void 0:null===(t=w.data)||void 0===t?void 0:t.totalPages,j),v(b+1))},_=()=>{var e,t;(null===(e=w.data)||void 0===e?void 0:e.hasPrevPage)&&(S((null==w?void 0:null===(t=w.data)||void 0===t?void 0:t.totalPages)-1,j),v(b-1))},C=(0,c.useMemo)(()=>[{Header:"Email",accessor:"email",disableFilters:!0,filterable:!1,Cell:e=>(0,a.jsxs)("div",{className:"flex items-center whitespace-nowrap text-secondary text-sm gap-2",children:[e.row.original.email," "]}),minSize:20},{Header:"Ful Name",accessor:"fullName",disableFilters:!0,filterable:!1,Cell:e=>(0,a.jsxs)("div",{className:"flex items-center whitespace-nowrap text-secondary text-sm gap-2",children:[e.row.original.fullName," "]}),minSize:20},{Header:"Wallet Balance",accessor:"walletBalance",disableFilters:!0,filterable:!1,Cell:e=>(0,a.jsxs)("div",{className:"flex items-center text-secondary text-sm gap-2",children:[e.row.original.walletBalance," "]}),minSize:20},{Header:"Image",accessor:"image",disableFilters:!0,filterable:!1,Cell:e=>{let{row:t}=e,s=t.original.image||d.Q5;return(0,a.jsx)("div",{className:"flex items-center text-secondary text-sm gap-2",children:(0,a.jsx)("img",{src:s,alt:t.original.email?"".concat(t.original.email,"'s Profile"):"Profile",style:{width:50,height:50,objectFit:"cover",borderRadius:"50%"},onError:e=>e.target.src=d.Q5})})},minSize:20}],[s]);return(0,a.jsxs)(n.Z,{onChange:e=>x(e.target.value),searchValue:u,children:[(0,a.jsx)(l.Z,{loading:h}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex text-[#4D515A] text-sm font-medium",children:["Dashboard ",(0,a.jsx)(o.Ev,{})," Rewards ",(0,a.jsx)(o.Ev,{})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[(0,a.jsx)("h1",{className:"text-2xl text-secondary font-bold my-3",children:"Rewards"}),(0,a.jsx)("button",{className:"mt-4 mr-3 bg-secondary text-white font-bold py-2 px-4 rounded-md hover:bg-secondary-dark transition-colors",onClick:"",children:"Add Reward"})]}),(0,a.jsx)("div",{className:"mb-5 mt-5 shadow-buttonShadow",children:(0,a.jsx)(r.Z,{currentItems:s,setCurrentItems:i,columns:C,data:s,isAddOptions:!1,customPageSize:6,selectedRows:p,dataName:"Reward",nextPage:()=>P(),previousPage:()=>_(),setPageLimit:e=>{S(1,e,()=>N(e))},canNextPage:null!=w&&null!==(e=w.data)&&void 0!==e&&!!e.hasNextPage,canPreviousPage:null!==(t=w.data)&&void 0!==t&&!!t.hasPrevPage})})]})]})})},3866:function(e,t,s){"use strict";s.d(t,{IV:function(){return a},Q5:function(){return l}});let a=10,l="/icons/profile.jpg"}},function(e){e.O(0,[143,664,521,162,231,888,774,179],function(){return e(e.s=2450)}),_N_E=e.O()}]);